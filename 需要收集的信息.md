# 稳定性优化 - 需要收集的信息

为了优化稳定性，请提供以下信息：

## 1. 浏览器控制台日志（最重要）

**步骤：**
1. 打开浏览器开发者工具（F12）
2. 切换到 Console 标签
3. 清空日志
4. 执行一次生成操作
5. 复制所有日志（包括成功和失败的）

**特别关注：**
- 超时错误的完整消息
- 429 限流错误
- 网络错误（Failed to fetch）
- 各个模型的请求时间

## 2. Network 网络请求详情

**步骤：**
1. 打开开发者工具（F12）
2. 切换到 Network 标签
3. 清空记录
4. 执行一次生成操作
5. 筛选 XHR/Fetch 请求
6. 查看每个 `/api/openrouter` 请求的详情：
   - Status Code（状态码）
   - Time（总耗时，毫秒）
   - Waiting (TTFB)（等待时间）
   - 失败请求的 Response 内容

## 3. 失败模式统计

请记录：
- **哪些模型最容易失败？**（例如：Opus、Sonnet、DeepSeek等）
- **失败的比例**（例如：10次中有3次失败）
- **失败时间点**（是60秒超时、90秒超时，还是其他时间？）
- **是否有429限流错误？**（状态码429）

## 4. 成功vs失败对比

如果有成功的例子，对比一下：
- 成功时网络请求的总时间是多少？
- 失败时是什么错误？（超时、限流、网络错误）
- 是否所有模型同时失败，还是只有某些模型失败？

## 5. 环境信息

- 使用的网络类型（WiFi/移动网络/公司网络）
- 是否有VPN/代理
- 浏览器类型和版本

---

## 快速测试方法

执行以下测试并记录结果：

1. **测试1：单个模型**
   - 只选择一个模型生成
   - 重复3次，记录成功/失败

2. **测试2：多个模型（3个）**
   - 选择3个模型同时生成
   - 重复3次，记录成功/失败

3. **测试3：所有模型**
   - 选择所有模型同时生成
   - 重复3次，记录成功/失败

这样可以判断是否是并发导致的问题。

